services:
    _defaults:
        autowire: false
        autoconfigure: false

    App\QueryBus\QueryBus:
        alias: DND\Infrastructure\Tactician\QueryBus

    App\CommandBus\CommandBus:
        alias: DND\Infrastructure\Tactician\CommandBus

    DND\CharacterCard\SectionBuilder\AbstractSectionBuilder:
        class: DND\CharacterCard\SectionBuilder\AbstractSectionBuilder
        arguments:
            - '@twig'
            - 'public/css/styles.css'

    App\Twig\ProficiencyDot:
        class: App\Twig\ProficiencyDot
        arguments:
            - '@twig'
        tags: [ 'twig.extension' ]

    App\Twig\ValueDecorator:
        class: App\Twig\ValueDecorator
        tags: [ 'twig.extension' ]

    DND\CharacterCard\SectionBuilder\SavingThrowsSectionBuilder:
        parent: DND\CharacterCard\SectionBuilder\AbstractSectionBuilder

    DND\CharacterCard\SectionBuilder\AbilitiesSectionBuilder:
        parent: DND\CharacterCard\SectionBuilder\AbstractSectionBuilder

    DND\CharacterCard\SectionBuilder\TitleSectionBuilder:
        parent: DND\CharacterCard\SectionBuilder\AbstractSectionBuilder

    DND\CharacterCard\SectionBuilder\SkillsSectionBuilder:
        parent: DND\CharacterCard\SectionBuilder\AbstractSectionBuilder

    DND\CharacterCard\CharacterCardDirector:
        class: DND\CharacterCard\CharacterCardDirector
        arguments:
            - '@DND\CharacterCard\SectionBuilder\SavingThrowsSectionBuilder'
            - '@DND\CharacterCard\SectionBuilder\AbilitiesSectionBuilder'
            - '@DND\CharacterCard\SectionBuilder\SkillsSectionBuilder'
            - '@DND\CharacterCard\SectionBuilder\AbilitiesSectionBuilder'
            - '@DND\CharacterCard\SectionBuilder\AbilitiesSectionBuilder'
            - '@DND\CharacterCard\SectionBuilder\AbilitiesSectionBuilder'
            - '@DND\CharacterCard\SectionBuilder\TitleSectionBuilder'
            - '@DND\CharacterCard\SectionBuilder\AbilitiesSectionBuilder'

imports:
    - { resource: 'infrastructure/services.yaml' }
    - { resource: 'repositories.yaml' }
    - { resource: 'cli_commands.yaml' }
    - { resource: 'controllers.yaml' }
    - { resource: 'persisters.yaml' }
    - { resource: 'commands.yaml' }
    - { resource: 'queries.yaml' }